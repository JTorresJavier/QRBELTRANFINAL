<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Inicio</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/styles/style.css" />
  <link rel="icon" href="data:,">
</head>
<body>

<header class="fondo1">
  <nav class="navbar navbar-expand-lg navbar-dark propio">
    <div class="container-fluid">

      <button class="navbar-toggler" type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navMain"
              aria-controls="navMain"
              aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>

      <img src="/imagenes/2.jpg" alt="logo" class="menulogo1" />

      <div class="collapse navbar-collapse" id="navMain">
        <ul class="navbar-nav me-auto">

          <li class="nav-item">
            <a class="nav-link" href="/paginas/perfil.html">Perfil</a>
          </li>

          <!-- SOLO ADMIN -->
          <li class="nav-item nav-admin">
            <a class="nav-link" href="/paginas/admin.html">Admin</a>
          </li>
          <li class="nav-item nav-admin">
            <a class="nav-link menu-prop" href="/paginas/Seguridad-visitas.html">Visitas</a>
          </li>

          <!-- SOLO SEGURIDAD -->
          <li class="nav-item nav-seguridad">
            <a class="nav-link" href="/paginas/seguridad.html">Seguridad</a>
          </li>
          <li class="nav-item nav-seguridad">
            <a class="nav-link menu-prop" href="/paginas/Seguridad-visitas.html">Visitas</a>
          </li>
        </ul>

        <a href="#" id="logoutBtn" class="nav-link">Cerrar sesi√≥n</a>
      </div>
    </div>
  </nav>
</header>

<main data-need-auth="1">

  <div class="fondo">
    <img src="/imagenes/3.jpg" alt="">
  </div>

  <div class="noticias">
    <label>NOTICIAS</label>

    <div id="hoyClases" class="hoy-clases"></div>

    <div class="noticias-actions">
      <button id="btnVerCalendario"
              class="boton"
              type="button"
              data-bs-toggle="modal"
              data-bs-target="#calModal">
        Ver calendario / grilla
      </button>
    </div>
  </div>

  <!-- MODAL CALENDARIO -->
  <div class="modal fade" id="calModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-scrollable">
      <div class="modal-content">

        <div class="modal-header">
          <h5 class="modal-title">Calendario acad√©mico</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <div class="modal-body">

          <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
            <div class="d-flex align-items-center gap-2">
              <button class="btn btn-outline-secondary btn-sm" id="calPrev">&laquo; Anterior</button>
              <div id="calTitle" class="fw-bold"></div>
              <button class="btn btn-outline-secondary btn-sm" id="calNext">Siguiente &raquo;</button>
            </div>

            <div class="btn-group" role="group">
              <button id="btnVistaMes" class="btn btn-primary btn-sm">Mes</button>
              <button id="btnVistaGrilla" class="btn btn-outline-primary btn-sm">Grilla semanal</button>
            </div>
          </div>

          <!-- üëá NUEVO BOT√ìN AGREGAR CLASE -->
          <div class="d-flex justify-content-end mb-3 nav-admin">
            <button id="btnAgregarClase" type="button" class="btn btn-success btn-sm">
              + Agregar clase
            </button>
          </div>

          <div id="calMes" class="cal-grid"></div>

          <div id="calGrilla" class="cal-grilla d-none">
            <div id="calGrillaBody"></div>
          </div>

          <div class="mt-3 small text-muted">
            * Se muestran materias seg√∫n tu a√±o y turno.
          </div>

        </div>
      </div>
    </div>
  </div>

  <!-- MODAL AGREGAR/EDITAR CLASE -->
  <div class="modal fade" id="modalClase" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <form id="formClase">
          <div class="modal-header">
            <h5 class="modal-title">Clase</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="mb-2">
              <label>Materia</label>
              <input type="text" id="inputSubject" class="form-control" required>
            </div>
            <div class="mb-2">
              <label>Profesor</label>
              <input type="text" id="inputTeacher" class="form-control" required>
            </div>
            <div class="mb-2">
              <label>D√≠a</label>
              <select id="inputDay" class="form-select" required>
                <option value="lun">Lunes</option>
                <option value="mar">Martes</option>
                <option value="mie">Mi√©rcoles</option>
                <option value="jue">Jueves</option>
                <option value="vie">Viernes</option>
                <option value="sab">S√°bado</option>
              </select>
            </div>
            <div class="mb-2">
              <label>Hora inicio</label>
              <input type="time" id="inputStart" class="form-control" required>
            </div>
            <div class="mb-2">
              <label>Hora fin</label>
              <input type="time" id="inputEnd" class="form-control" required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Guardar</button>
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- BOT√ìN QR -->
  <a href="/paginas/QRGenerado.html" class="qr-fab" aria-label="Escanear QR">
    <svg class="qr-icon" viewBox="0 0 24 24">
      <path d="M3 3h6v6H3zM5 5h2v2H5zM15 3h6v6h-6zM17 5h2v2h-2zM3 15h6v6H3zM5 17h2v2H5zM13 11h2v2h-2zM17 11h4v2h-4zM13 15h2v2h-2zM15 17h2v2h-2zM17 15h2v2h2v4h-2v-2h-2v-2h-2v-2h2z"/>
    </svg>
  </a>

</main>

<!-- JS -->
<script src="/JavaScript/common.js" defer></script>
<script src="/JavaScript/inicio.js" defer></script>
<script src="/JavaScript/calendario.js" defer></script>
<script src="/JavaScript/cargarMaterias.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
